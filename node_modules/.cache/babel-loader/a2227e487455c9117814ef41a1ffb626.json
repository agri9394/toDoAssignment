{"ast":null,"code":"import { useEffect, useState } from 'react';\nimport { saveToLocalStorage, getFromLocalStorage } from '../utilities/saveToLocalStorage';\nimport ListingTodoModel from '../models/todoModel';\nexport default function useAddTodo() {\n  const [list, setList] = useState(new Array());\n  useEffect(() => {\n    const key = 'stg-List';\n    const listJson = getFromLocalStorage(key);\n    let jsonListFromStorage = JSON.parse(listJson);\n    let model = new ListingTodoModel(text);\n    jsonListFromStorage.push(model);\n    let stringifiedList = JSON.stringify(jsonListFromStorage);\n    saveToLocalStorage(stringifiedList, key);\n    setList(jsonListFromStorage);\n  }, []);\n\n  const setText = text => {\n    debugger;\n    const key = 'stg-List';\n    const listJson = getFromLocalStorage(key);\n\n    if (!listJson) {\n      let model = new ListingTodoModel(text);\n      let modelList = [model];\n      let list = JSON.stringify(modelList);\n      saveToLocalStorage(list, key);\n      setList(modelList);\n    } else {\n      let jsonListFromStorage = JSON.parse(listJson);\n      let model = new ListingTodoModel(text);\n      jsonListFromStorage.push(model);\n      let stringifiedList = JSON.stringify(jsonListFromStorage);\n      saveToLocalStorage(stringifiedList, key);\n      setList(jsonListFromStorage);\n    }\n  };\n\n  return {\n    setText,\n    list\n  };\n}","map":{"version":3,"sources":["/Users/agrimanand/Documents/demo/Assignmnet/my-app/src/hooks/useAddTodo.ts"],"names":["useEffect","useState","saveToLocalStorage","getFromLocalStorage","ListingTodoModel","useAddTodo","list","setList","Array","key","listJson","jsonListFromStorage","JSON","parse","model","text","push","stringifiedList","stringify","setText","modelList"],"mappings":"AAAA,SAAQA,SAAR,EAAkBC,QAAlB,QAAiC,OAAjC;AACA,SAAQC,kBAAR,EAA2BC,mBAA3B,QAAqD,iCAArD;AACA,OAAOC,gBAAP,MAA6B,qBAA7B;AAEA,eAAe,SAASC,UAAT,GAAqB;AAEhC,QAAM,CAACC,IAAD,EAAMC,OAAN,IAAiBN,QAAQ,CAAqB,IAAIO,KAAJ,EAArB,CAA/B;AACAR,EAAAA,SAAS,CAAC,MAAI;AACV,UAAMS,GAAG,GAAG,UAAZ;AACA,UAAMC,QAAQ,GAAGP,mBAAmB,CAACM,GAAD,CAApC;AACI,QAAIE,mBAA2C,GAAGC,IAAI,CAACC,KAAL,CAAWH,QAAX,CAAlD;AACA,QAAII,KAAK,GAAG,IAAIV,gBAAJ,CAAqBW,IAArB,CAAZ;AACAJ,IAAAA,mBAAmB,CAACK,IAApB,CAAyBF,KAAzB;AACA,QAAIG,eAAe,GAAGL,IAAI,CAACM,SAAL,CAAeP,mBAAf,CAAtB;AACAT,IAAAA,kBAAkB,CAACe,eAAD,EAAiBR,GAAjB,CAAlB;AACAF,IAAAA,OAAO,CAACI,mBAAD,CAAP;AACP,GATQ,EASP,EATO,CAAT;;AAUA,QAAMQ,OAAO,GAAIJ,IAAD,IAAgB;AAC5B;AACA,UAAMN,GAAG,GAAG,UAAZ;AACA,UAAMC,QAAQ,GAAGP,mBAAmB,CAACM,GAAD,CAApC;;AACA,QAAI,CAACC,QAAL,EAAc;AACV,UAAII,KAAK,GAAG,IAAIV,gBAAJ,CAAqBW,IAArB,CAAZ;AACA,UAAIK,SAAS,GAAG,CAACN,KAAD,CAAhB;AACA,UAAIR,IAAI,GAAGM,IAAI,CAACM,SAAL,CAAeE,SAAf,CAAX;AACAlB,MAAAA,kBAAkB,CAACI,IAAD,EAAMG,GAAN,CAAlB;AACAF,MAAAA,OAAO,CAACa,SAAD,CAAP;AACH,KAND,MAMO;AACH,UAAIT,mBAA2C,GAAGC,IAAI,CAACC,KAAL,CAAWH,QAAX,CAAlD;AACA,UAAII,KAAK,GAAG,IAAIV,gBAAJ,CAAqBW,IAArB,CAAZ;AACAJ,MAAAA,mBAAmB,CAACK,IAApB,CAAyBF,KAAzB;AACA,UAAIG,eAAe,GAAGL,IAAI,CAACM,SAAL,CAAeP,mBAAf,CAAtB;AACAT,MAAAA,kBAAkB,CAACe,eAAD,EAAiBR,GAAjB,CAAlB;AACAF,MAAAA,OAAO,CAACI,mBAAD,CAAP;AACH;AACJ,GAlBD;;AAoBI,SAAO;AAACQ,IAAAA,OAAD;AAASb,IAAAA;AAAT,GAAP;AACP","sourcesContent":["import {useEffect,useState} from 'react'\nimport {saveToLocalStorage,getFromLocalStorage} from '../utilities/saveToLocalStorage'\nimport ListingTodoModel from '../models/todoModel'\n\nexport default function useAddTodo(){\n\n    const [list,setList] = useState<ListingTodoModel[]>(new Array())\n    useEffect(()=>{\n        const key = 'stg-List'\n        const listJson = getFromLocalStorage(key)\n            let jsonListFromStorage:Array<ListingTodoModel> = JSON.parse(listJson)\n            let model = new ListingTodoModel(text)\n            jsonListFromStorage.push(model)\n            let stringifiedList = JSON.stringify(jsonListFromStorage)\n            saveToLocalStorage(stringifiedList,key)\n            setList(jsonListFromStorage)\n    },[])\n    const setText = (text:string) =>{\n        debugger;\n        const key = 'stg-List'\n        const listJson = getFromLocalStorage(key)\n        if (!listJson){\n            let model = new ListingTodoModel(text)\n            let modelList = [model]\n            let list = JSON.stringify(modelList)\n            saveToLocalStorage(list,key)\n            setList(modelList)\n        } else {\n            let jsonListFromStorage:Array<ListingTodoModel> = JSON.parse(listJson)\n            let model = new ListingTodoModel(text)\n            jsonListFromStorage.push(model)\n            let stringifiedList = JSON.stringify(jsonListFromStorage)\n            saveToLocalStorage(stringifiedList,key)\n            setList(jsonListFromStorage)\n        }\n    }\n\n        return {setText,list}\n}"]},"metadata":{},"sourceType":"module"}